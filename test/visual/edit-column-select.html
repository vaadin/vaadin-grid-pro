<!DOCTYPE html>

<head lang="en">
  <meta charset="UTF-8" />
  <title>Select edit column tests</title>
  <script>
    window.polymerSkipLoadingFontRoboto = true;
  </script>
</head>

<body>
  <style>
    #tests {
      display: inline-block;
      width: 200px;
    }

    vaadin-grid-pro {
      height: 225px;
    }
  </style>

  <div id="tests">
    <vaadin-grid-pro>
      <vaadin-grid-pro-edit-column path="name.title" editor-type="select"></vaadin-grid-pro-edit-column>
    </vaadin-grid-pro>
  </div>

  <script type="module">
    import { getContainerCell } from '../helpers.js';
    import { users } from './helpers/users.js';

    (async () => {
      const theme = window.location.search.replace(/.*theme=(\w+).*/, '$1') || 'lumo';

      await Promise.all([
        import('../../theme/' + theme + '/vaadin-grid-pro-edit-column.js'),
        import('../../theme/' + theme + '/vaadin-grid-pro.js')
      ]);

      const grid = document.querySelector('vaadin-grid-pro');
      grid.items = users;

      const column = grid.querySelector('vaadin-grid-pro-edit-column');
      column.editorOptions = ['mr', 'mrs', 'ms'];

      const cell = getContainerCell(grid.$.items, 0, 0);
      cell._content.dispatchEvent(new CustomEvent('dblclick', { bubbles: true }));

      window.requestAnimationFrame(() => {
        document.getElementById('tests').dataset.ready = true;
      });
    })();
  </script>
</body>
