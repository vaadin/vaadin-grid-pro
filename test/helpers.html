<script>
  window.infiniteDataProvider = (params, callback) => {
    callback(Array.apply(null, Array(params.pageSize)).map((item, index) => {
      return {
        value: 'foo' + (params.page * params.pageSize + index)
      };
    }));
  };

  window.flushGrid = (grid) => {
    grid._observer.flush();
    if (grid._debounceScrolling) {
      grid._debounceScrolling.flush();
    }
    if (grid._debounceScrollPeriod) {
      grid._debounceScrollPeriod.flush();
    }
    Polymer.flush();
    if (grid._debouncerLoad) {
      grid._debouncerLoad.flush();
    }
    if (grid._debounceOverflow) {
      grid._debounceOverflow.flush();
    }
    while (grid._debounceIncreasePool) {
      grid._debounceIncreasePool.flush();
      grid._debounceIncreasePool = null;
      Polymer.flush();
    }
  };

  window.getRows = (container) => {
    return container.querySelectorAll('tr');
  };

  window.getRowCells = (row) => {
    return Array.prototype.slice.call(Polymer.dom(row).querySelectorAll('[part~="cell"]'));
  };

  window.getCellContent = (cell) => {
    return cell ? cell.querySelector('slot').assignedNodes()[0] : null;
  };

  window.getContainerCellContent = (container, row, col) => {
    return getCellContent(getContainerCell(container, row, col));
  };

  window.getContainerCell = (container, row, col) => {
    const rows = getRows(container);
    const cells = getRowCells(rows[row]);
    return cells[col];
  };
</script>
